<html> 
  <head> 
    <title>Msdb5</title> 
    <style> 
      input { display: block; } 
      ul    { list-style: none; } 
    </style> 
  </head> 
  <body> 
    <form id="connect"> 
      <p>
        Name:<input type="text" name="name" id="name"/><br>
        <input type="submit" value="Connect" /> 
      </p>
    </form>
    <form id="play"> 
      <p>
        <label>Auction points</label>
        <input type="text" name="auction" id="auction">
      </p>
      <input type="submit" value="Send" /> 
    </form>
    <form id="play"> 
      <p>
        <label>Card number and seed</label>
        <input type="number" name="number" id="number" min="1" max="10">
        <select name="seed" id="seed">
          <option value="coin">Coin</option>
          <option value="cup">Cup</option>
          <option value="sword">Sword</option>
          <option value="cudgel">Cudgel</option>
        </select>
      </p>
      <input type="submit" value="Play" /> 
    </form> 
    <ul id="messages"></ul> 
    <script  src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"> </script> 
    <script>
      $(function(){ 
        var socket = null; 
        var msgBox = $("#play textarea"); 
        var nameBox = $("#connect #name"); 
        var messages = $("#messages"); 
        $("#connect").submit(function(){
          if (!nameBox.val()) return false; 
          if (!socket) { 
            alert("Error: There is no socket connection."); 
            return false; 
          }
          socket.send(nameBox.val()); 
          nameBox.val(""); 
          return false; 
        });
        $("#play").submit(function(){
          if (!msgBox.val()) return false; 
          if (!socket) { 
            alert("Error: There is no socket connection."); 
            return false; 
          } 
          socket.send(msgBox.val()); 
          msgBox.val(""); 
          return false; 
        });
        if (!window["WebSocket"]) {
          alert("Error: Your browser does not support web sockets.") 
        } else { 
          socket = new WebSocket("ws://{{.Host}}/room"); 
          socket.onclose = function() {
            alert("Connection has been closed."); 
          } 
          socket.onmessage = function(e) { 
            messages.prepend($("<li>").text(e.data)); 
          } 
        } 
      }); 
    </script> 
  </body> 
</html> 